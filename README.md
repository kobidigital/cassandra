# About this Repo

This is the Git repo of the Docker [official image](https://docs.docker.com/docker-hub/official_repos/) for [cassandra](https://registry.hub.docker.com/_/cassandra/). See [the Docker Hub page](https://registry.hub.docker.com/_/cassandra/) for the full readme on how to use this Docker image and for information regarding contributing and issues.

The full readme is generated over in [docker-library/docs](https://github.com/docker-library/docs), specifically in [docker-library/docs/cassandra](https://github.com/docker-library/docs/tree/master/cassandra).

See a change merged here that doesn't show up on the Docker Hub yet? Check [the "library/cassandra" manifest file in the docker-library/official-images repo](https://github.com/docker-library/official-images/blob/master/library/cassandra), especially [PRs with the "library/cassandra" label on that repo](https://github.com/docker-library/official-images/labels/library%2Fcassandra). For more information about the official images process, see the [docker-library/official-images readme](https://github.com/docker-library/official-images/blob/master/README.md).

[![Travis CI](https://img.shields.io/travis/docker-library/cassandra/master.svg)](https://travis-ci.org/docker-library/cassandra/branches)

<!-- THIS FILE IS GENERATED BY https://github.com/docker-library/docs/blob/master/generate-repo-stub-readme.sh -->

# Usage

### Add label to nodes
```
docker node update --label-add "cassandra" machine1
docker node update --label-add "cassandra" machine2
```

### Create network
```
docker network create --driver overlay my-network
```

### Run service
```
docker service create --name cassandra \
  --mode global \
  --network my-network \
  --constraint "node.label == cassandra" \
  -e "SEEDS_COMMAND=nslookup tasks.cassandra | awk '/Address: /' | awk -F ' ' '{print $$2}' | xargs | sed -e 's/ /,/g'" \
  -e "CASSANDRA_SEEDS=auto" \
  -e "CASSANDRA_BROADCAST_ADDRESS=auto" \
  -e "CASSANDRA_LISTEN_ADDRESS=auto" \
  --publish '7000:7000' \
  --publish '7001:7001' \
  --publish '7199:7199' \
  --publish '9042:9042' \
  --publish '9160:9160' \
  kobitech/cassandra
```
